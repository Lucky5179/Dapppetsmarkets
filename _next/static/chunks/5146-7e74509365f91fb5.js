"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5146],{20235:function(e,t,a){a.d(t,{Q:function(){return s}});var r=a(54236),n=a(20388),i=a(7653);async function s(e,t){let a;let{chainId:s,connector:o,...c}=t;a=t.account?t.account:(await (0,i.e)(e,{account:t.account,chainId:s,connector:o})).account;let l=e.getClient({chainId:s});return(0,n.s)(l,r.Q,"estimateGas")({...c,account:a})}},1456:function(e,t,a){a.d(t,{a:function(){return d}});var r=a(58821),n=a(69440),i=a(88383),s=a(25217),o=a(69954),c=a(78080);async function l(e,t){let{abi:a,address:l,args:u,dataSuffix:f,functionName:d,...m}=t,h=m.account?(0,r.T)(m.account):e.account,w=(0,i.R)({abi:a,args:u,functionName:d});try{let{data:r}=await (0,o.s)(e,c.R,"call")({batch:!1,data:`${w}${f?f.replace("0x",""):""}`,to:l,...m,account:h}),i=(0,n.k)({abi:a,args:u,functionName:d,data:r||"0x"}),s=a.filter(e=>"name"in e&&e.name===t.functionName);return{result:i,request:{abi:s,address:l,args:u,dataSuffix:f,functionName:d,...m,account:h}}}catch(e){throw(0,s.S)(e,{abi:a,address:l,args:u,docsPath:"/docs/contract/simulateContract",functionName:d,sender:h?.address})}}var u=a(20388),f=a(7653);async function d(e,t){let a;let{abi:r,chainId:n,connector:i,...s}=t;a=t.account?t.account:(await (0,f.e)(e,{chainId:n,connector:i})).account;let o=e.getClient({chainId:n}),c=(0,u.s)(o,l,"simulateContract"),{result:d,request:m}=await c({...s,abi:r,account:a});return{chainId:o.chain.id,result:d,request:{__mode:"prepared",...m,chainId:n}}}},461:function(e,t,a){a.d(t,{e:function(){return I}});var r=a(16921),n=a(8996),i=a(30990),s=a(69954);let o=new Map,c=new Map,l=0;function u(e,t,a){let r=++l,n=()=>o.get(e)||[],i=()=>{let t=n();o.set(e,t.filter(e=>e.id!==r))},s=()=>{let t=c.get(e);1===n().length&&t&&t(),i()},u=n();if(o.set(e,[...u,{id:r,fns:t}]),u&&u.length>0)return s;let f={};for(let e in t)f[e]=(...t)=>{let a=n();if(0!==a.length)for(let r of a)r.fns[e]?.(...t)};let d=a(f);return"function"==typeof d&&c.set(e,d),s}var f=a(93828),d=a(58772),m=a(9128),h=a(14142),w=a(6072);async function p(e,{blockHash:t,blockNumber:a,blockTag:r,hash:n,index:s}){let o=r||"latest",c=void 0!==a?(0,h.eC)(a):void 0,l=null;if(n?l=await e.request({method:"eth_getTransactionByHash",params:[n]}):t?l=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,(0,h.eC)(s)]}):(c||o)&&(l=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[c||o,(0,h.eC)(s)]})),!l)throw new i.Bh({blockHash:t,blockNumber:a,blockTag:o,hash:n,index:s});return(e.chain?.formatters?.transaction?.format||w.Tr)(l)}var b=a(60848);async function y(e,{hash:t}){let a=await e.request({method:"eth_getTransactionReceipt",params:[t]});if(!a)throw new i.Yb({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||b.fA)(a)}var g=a(84098);let P=new Map,v=new Map;async function k(e,{cacheKey:t,cacheTime:a=Number.POSITIVE_INFINITY}){let r=function(e){let t=(e,t)=>({clear:()=>t.delete(e),get:()=>t.get(e),set:a=>t.set(e,a)}),a=t(e,P),r=t(e,v);return{clear:()=>{a.clear(),r.clear()},promise:a,response:r}}(t),n=r.response.get();if(n&&a>0&&new Date().getTime()-n.created.getTime()<a)return n.data;let i=r.promise.get();i||(i=e(),r.promise.set(i));try{let e=await i;return r.response.set({created:new Date,data:e}),e}finally{r.promise.clear()}}let F=e=>`blockNumber.${e}`;async function G(e,{cacheTime:t=e.cacheTime}={}){return BigInt(await k(()=>e.request({method:"eth_blockNumber"}),{cacheKey:F(e.uid),cacheTime:t}))}function T(e,{emitOnBegin:t=!1,emitMissed:a=!1,onBlockNumber:n,onError:i,poll:o,pollingInterval:c=e.pollingInterval}){let l;return(void 0!==o?o:"webSocket"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type))?u((0,d.P)(["watchBlockNumber",e.uid,t,a,c]),{onBlockNumber:n,onError:i},r=>(function(e,{emitOnBegin:t,initialWaitTime:a,interval:r}){let n=!0,i=()=>n=!1;return(async()=>{let s;t&&(s=await e({unpoll:i}));let o=await a?.(s)??r;await (0,g.D)(o);let c=async()=>{n&&(await e({unpoll:i}),await (0,g.D)(r),c())};c()})(),i})(async()=>{try{let t=await (0,s.s)(e,G,"getBlockNumber")({cacheTime:0});if(l){if(t===l)return;if(t-l>1&&a)for(let e=l+1n;e<t;e++)r.onBlockNumber(e,l),l=e}(!l||t>l)&&(r.onBlockNumber(t,l),l=t)}catch(e){r.onError?.(e)}},{emitOnBegin:t,interval:c})):u((0,d.P)(["watchBlockNumber",e.uid,t,a]),{onBlockNumber:n,onError:i},t=>{let a=!0,n=()=>a=!1;return(async()=>{try{let i=(()=>{if("fallback"===e.transport.type){let t=e.transport.transports.find(e=>"webSocket"===e.config.type);return t?t.value:e.transport}return e.transport})(),{unsubscribe:s}=await i.subscribe({params:["newHeads"],onData(e){if(!a)return;let n=(0,r.y_)(e.result?.number);t.onBlockNumber(n,l),l=n},onError(e){t.onError?.(e)}});n=s,a||n()}catch(e){i?.(e)}})(),()=>n()})}async function x(e,{confirmations:t=1,hash:a,onReplaced:r,pollingInterval:o=e.pollingInterval,retryCount:c=6,retryDelay:l=({count:e})=>200*~~(1<<e),timeout:h}){let w,b,g;let P=(0,d.P)(["waitForTransactionReceipt",e.uid,a]),v=0,k=!1;return new Promise((d,F)=>{h&&setTimeout(()=>F(new i.mc({hash:a})),h);let G=u(P,{onReplaced:r,resolve:d,reject:F},r=>{let u=(0,s.s)(e,T,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:o,async onBlockNumber(o){let d=e=>{u(),e(),G()},h=o;if(!k){v>c&&d(()=>r.reject(new i.mc({hash:a})));try{if(g){if(t>1&&(!g.blockNumber||h-g.blockNumber+1n<t))return;d(()=>r.resolve(g));return}if(w||(k=!0,await (0,f.J)(async()=>{(w=await (0,s.s)(e,p,"getTransaction")({hash:a})).blockNumber&&(h=w.blockNumber)},{delay:l,retryCount:c}),k=!1),g=await (0,s.s)(e,y,"getTransactionReceipt")({hash:a}),t>1&&(!g.blockNumber||h-g.blockNumber+1n<t))return;d(()=>r.resolve(g))}catch(a){if(a instanceof i.Bh||a instanceof i.Yb){if(!w){k=!1;return}try{b=w,k=!0;let a=await (0,f.J)(()=>(0,s.s)(e,m.Q,"getBlock")({blockNumber:h,includeTransactions:!0}),{delay:l,retryCount:c,shouldRetry:({error:e})=>e instanceof n.f});k=!1;let i=a.transactions.find(({from:e,nonce:t})=>e===b.from&&t===b.nonce);if(!i||(g=await (0,s.s)(e,y,"getTransactionReceipt")({hash:i.hash}),t>1&&(!g.blockNumber||h-g.blockNumber+1n<t)))return;let o="replaced";i.to===b.to&&i.value===b.value?o="repriced":i.from===i.to&&0n===i.value&&(o="cancelled"),d(()=>{r.onReplaced?.({reason:o,replacedTransaction:b,transaction:i,transactionReceipt:g}),r.resolve(g)})}catch(e){d(()=>r.reject(e))}}else d(()=>r.reject(a))}finally{v++}}}})})})}var B=a(78080),N=a(20388);async function I(e,t){let{chainId:a,timeout:n=0,...i}=t,s=e.getClient({chainId:a}),o=(0,N.s)(s,x,"waitForTransactionReceipt"),c=await o({...i,timeout:n});if("reverted"===c.status){let e=(0,N.s)(s,p,"getTransaction"),t=await e({hash:c.transactionHash}),a=(0,N.s)(s,B.R,"call"),n=await a({...t,gasPrice:"eip1559"!==t.type?t.gasPrice:void 0,maxFeePerGas:"eip1559"===t.type?t.maxFeePerGas:void 0,maxPriorityFeePerGas:"eip1559"===t.type?t.maxPriorityFeePerGas:void 0});throw Error(n?.data?(0,r.rR)(`0x${n.data.substring(138)}`):"unknown reason")}return{...c,chainId:s.chain.id}}},27456:function(e,t,a){a.d(t,{n:function(){return f}});var r=a(88383),n=a(69954),i=a(53142);async function s(e,t){let{abi:a,address:s,args:o,dataSuffix:c,functionName:l,...u}=t,f=(0,r.R)({abi:a,args:o,functionName:l});return(0,n.s)(e,i.T,"sendTransaction")({data:`${f}${c?c.replace("0x",""):""}`,to:s,...u})}var o=a(20388),c=a(83210),l=a(7653),u=a(1456);async function f(e,t){let a,r;let{account:n,chainId:i,connector:f,__mode:d,...m}=t;a="object"==typeof n&&"local"===n.type?e.getClient({chainId:i}):await (0,l.e)(e,{account:n,chainId:i,connector:f});let{connector:h}=(0,c.D)(e);if("prepared"===d||h?.supportsSimulation)r=m;else{let{request:t}=await (0,u.a)(e,{...m,account:n,chainId:i});r=t}let w=(0,o.s)(a,s,"writeContract");return await w({...r,...n?{account:n}:{},chain:i?{id:i}:null})}},54236:function(e,t,a){a.d(t,{Q:function(){return b}});var r=a(58821),n=a(14142),i=a(44093),s=a(35148),o=a(14487),c=a(30990);class l extends o.G{constructor(e,{account:t,docsPath:a,chain:r,data:n,gas:o,gasPrice:l,maxFeePerGas:u,maxPriorityFeePerGas:f,nonce:d,to:m,value:h}){super(e.shortMessage,{cause:e,docsPath:a,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",(0,c.xr)({from:t?.address,to:m,value:void 0!==h&&`${(0,i.d)(h)} ${r?.nativeCurrency?.symbol||"ETH"}`,data:n,gas:o,gasPrice:void 0!==l&&`${(0,s.o)(l)} gwei`,maxFeePerGas:void 0!==u&&`${(0,s.o)(u)} gwei`,maxPriorityFeePerGas:void 0!==f&&`${(0,s.o)(f)} gwei`,nonce:d})].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=e}}var u=a(35220),f=a(6193),d=a(87325),m=a(78189),h=a(21622),w=a(71889),p=a(74616);async function b(e,t){let a=t.account??e.account,i=a?(0,r.T)(a):void 0;try{let{accessList:a,blobs:r,blobVersionedHashes:s,blockNumber:o,blockTag:c,data:l,gas:u,gasPrice:f,maxFeePerBlobGas:b,maxFeePerGas:y,maxPriorityFeePerGas:g,nonce:P,to:v,value:k,stateOverride:F,...G}=await (0,p.Z)(e,{...t,parameters:i?.type==="local"?void 0:["blobVersionedHashes"]}),T=(o?(0,n.eC)(o):void 0)||c,x=(0,h.mF)(F);(0,w.F)(t);let B=e.chain?.formatters?.transactionRequest?.format,N=(B||m.tG)({...(0,d.K)(G,{format:B}),from:i?.address,accessList:a,blobs:r,blobVersionedHashes:s,data:l,gas:u,gasPrice:f,maxFeePerBlobGas:b,maxFeePerGas:y,maxPriorityFeePerGas:g,nonce:P,to:v,value:k}),I=await e.request({method:"eth_estimateGas",params:x?[N,T??"latest",x]:T?[N,T]:[N]});return BigInt(I)}catch(a){throw function(e,{docsPath:t,...a}){return new l((()=>{let t=(0,f.k)(e,a);return t instanceof u.cj?e:t})(),{docsPath:t,...a})}(a,{...t,account:i,chain:e.chain})}}},9128:function(e,t,a){a.d(t,{Q:function(){return s}});var r=a(8996),n=a(14142),i=a(91841);async function s(e,{blockHash:t,blockNumber:a,blockTag:s,includeTransactions:o}={}){let c=o??!1,l=void 0!==a?(0,n.eC)(a):void 0,u=null;if(!(u=t?await e.request({method:"eth_getBlockByHash",params:[t,c]}):await e.request({method:"eth_getBlockByNumber",params:[l||(s??"latest"),c]})))throw new r.f({blockHash:t,blockNumber:a});return(e.chain?.formatters?.block?.format||i.Z)(u)}},52325:function(e,t,a){a.d(t,{L:function(){return n}});var r=a(16921);async function n(e){let t=await e.request({method:"eth_chainId"});return(0,r.ly)(t)}},20978:function(e,t,a){a.d(t,{o:function(){return r}});async function r(e){return BigInt(await e.request({method:"eth_gasPrice"}))}},74616:function(e,t,a){a.d(t,{Q:function(){return T},Z:function(){return x}});var r=a(58821),n=a(35148),i=a(14487);class s extends i.G{constructor(){super("`baseFeeMultiplier` must be greater than 1."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseFeeScalarError"})}}class o extends i.G{constructor(){super("Chain does not support EIP-1559 fees."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip1559FeesNotSupportedError"})}}class c extends i.G{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${(0,n.o)(e)} gwei).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MaxFeePerGasTooLowError"})}}var l=a(69954),u=a(16921),f=a(9128),d=a(20978);async function m(e,t){let{block:a,chain:r=e.chain,request:n}=t||{};if("function"==typeof r?.fees?.defaultPriorityFee){let t=a||await (0,l.s)(e,f.Q,"getBlock")({});return r.fees.defaultPriorityFee({block:t,client:e,request:n})}if(void 0!==r?.fees?.defaultPriorityFee)return r?.fees?.defaultPriorityFee;try{let t=await e.request({method:"eth_maxPriorityFeePerGas"});return(0,u.y_)(t)}catch{let[t,r]=await Promise.all([a?Promise.resolve(a):(0,l.s)(e,f.Q,"getBlock")({}),(0,l.s)(e,d.o,"getGasPrice")({})]);if("bigint"!=typeof t.baseFeePerGas)throw new o;let n=r-t.baseFeePerGas;if(n<0n)return 0n;return n}}async function h(e,t){let{block:a,chain:r=e.chain,request:n,type:i="eip1559"}=t||{},c=await (async()=>"function"==typeof r?.fees?.baseFeeMultiplier?r.fees.baseFeeMultiplier({block:a,client:e,request:n}):r?.fees?.baseFeeMultiplier??1.2)();if(c<1)throw new s;let u=10**(c.toString().split(".")[1]?.length??0),h=e=>e*BigInt(Math.ceil(c*u))/BigInt(u),w=a||await (0,l.s)(e,f.Q,"getBlock")({});if("function"==typeof r?.fees?.estimateFeesPerGas){let t=await r.fees.estimateFeesPerGas({block:a,client:e,multiply:h,request:n,type:i});if(null!==t)return t}if("eip1559"===i){if("bigint"!=typeof w.baseFeePerGas)throw new o;let t="bigint"==typeof n?.maxPriorityFeePerGas?n.maxPriorityFeePerGas:await m(e,{block:w,chain:r,request:n}),a=h(w.baseFeePerGas);return{maxFeePerGas:n?.maxFeePerGas??a+t,maxPriorityFeePerGas:t}}return{gasPrice:n?.gasPrice??h(await (0,l.s)(e,d.o,"getGasPrice")({}))}}var w=a(54236),p=a(14142);async function b(e,{address:t,blockTag:a="latest",blockNumber:r}){let n=await e.request({method:"eth_getTransactionCount",params:[t,r?(0,p.eC)(r):a]});return(0,u.ly)(n)}var y=a(53160),g=a(98192),P=a(33782),v=a(93609),k=a(71889),F=a(60292),G=a(52325);let T=["blobVersionedHashes","chainId","fees","gas","nonce","type"];async function x(e,t){let a;let{account:n=e.account,blobs:i,chain:s,chainId:u,gas:d,kzg:m,nonce:p,parameters:x=T,type:B}=t,N=n?(0,r.T)(n):void 0,I={...t,...N?{from:N?.address}:{}};async function C(){return a||(a=await (0,l.s)(e,f.Q,"getBlock")({blockTag:"latest"}))}if((x.includes("blobVersionedHashes")||x.includes("sidecars"))&&i&&m){let e=(0,y.P)({blobs:i,kzg:m});if(x.includes("blobVersionedHashes")){let t=(0,P.C)({commitments:e,to:"hex"});I.blobVersionedHashes=t}if(x.includes("sidecars")){let t=(0,g.y)({blobs:i,commitments:e,kzg:m}),a=(0,v.j)({blobs:i,commitments:e,proofs:t,to:"hex"});I.sidecars=a}}if(x.includes("chainId")&&(s?I.chainId=s.id:void 0!==u?I.chainId=u:I.chainId=await (0,l.s)(e,G.L,"getChainId")({})),x.includes("nonce")&&void 0===p&&N&&(I.nonce=await (0,l.s)(e,b,"getTransactionCount")({address:N.address,blockTag:"pending"})),(x.includes("fees")||x.includes("type"))&&void 0===B)try{I.type=(0,F.l)(I)}catch{let e=await C();I.type="bigint"==typeof e?.baseFeePerGas?"eip1559":"legacy"}if(x.includes("fees")){if("legacy"!==I.type&&"eip2930"!==I.type){if(void 0===I.maxFeePerGas||void 0===I.maxPriorityFeePerGas){let a=await C(),{maxFeePerGas:r,maxPriorityFeePerGas:n}=await h(e,{block:a,chain:s,request:I});if(void 0===t.maxPriorityFeePerGas&&t.maxFeePerGas&&t.maxFeePerGas<n)throw new c({maxPriorityFeePerGas:n});I.maxPriorityFeePerGas=n,I.maxFeePerGas=r}}else{if(void 0!==t.maxFeePerGas||void 0!==t.maxPriorityFeePerGas)throw new o;let a=await C(),{gasPrice:r}=await h(e,{block:a,chain:s,request:I,type:"legacy"});I.gasPrice=r}}return x.includes("gas")&&void 0===d&&(I.gas=await (0,l.s)(e,w.Q,"estimateGas")({...I,account:N?{address:N.address,type:"json-rpc"}:void 0})),(0,k.F)(I),delete I.parameters,I}},53142:function(e,t,a){a.d(t,{T:function(){return p}});var r=a(58821),n=a(65355),i=a(78216),s=a(35220),o=a(30990),c=a(6193),l=a(87325),u=a(78189),f=a(69954),d=a(71889),m=a(52325),h=a(74616);async function w(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}async function p(e,t){let{account:a=e.account,chain:p=e.chain,accessList:b,blobs:y,data:g,gas:P,gasPrice:v,maxFeePerBlobGas:k,maxFeePerGas:F,maxPriorityFeePerGas:G,nonce:T,to:x,value:B,...N}=t;if(!a)throw new n.o({docsPath:"/docs/actions/wallet/sendTransaction"});let I=(0,r.T)(a);try{let a;if((0,d.F)(t),null!==p&&(a=await (0,f.s)(e,m.L,"getChainId")({}),function({chain:e,currentChainId:t}){if(!e)throw new i.Bk;if(t!==e.id)throw new i.Yl({chain:e,currentChainId:t})}({currentChainId:a,chain:p})),"local"===I.type){let t=await (0,f.s)(e,h.Z,"prepareTransactionRequest")({account:I,accessList:b,blobs:y,chain:p,chainId:a,data:g,gas:P,gasPrice:v,maxFeePerBlobGas:k,maxFeePerGas:F,maxPriorityFeePerGas:G,nonce:T,parameters:[...h.Q,"sidecars"],to:x,value:B,...N}),r=p?.serializers?.transaction,n=await I.signTransaction(t,{serializer:r});return await (0,f.s)(e,w,"sendRawTransaction")({serializedTransaction:n})}let r=e.chain?.formatters?.transactionRequest?.format,n=(r||u.tG)({...(0,l.K)(N,{format:r}),accessList:b,blobs:y,data:g,from:I.address,gas:P,gasPrice:v,maxFeePerBlobGas:k,maxFeePerGas:F,maxPriorityFeePerGas:G,nonce:T,to:x,value:B});return await e.request({method:"eth_sendTransaction",params:[n]},{retryCount:0})}catch(e){throw function(e,{docsPath:t,...a}){let r=(()=>{let t=(0,c.k)(e,a);return t instanceof s.cj?e:t})();return new o.mk(r,{docsPath:t,...a})}(e,{...t,account:I,chain:t.chain||void 0})}}},8996:function(e,t,a){a.d(t,{f:function(){return n}});var r=a(14487);class n extends r.G{constructor({blockHash:e,blockNumber:t}){let a="Block";e&&(a=`Block at hash "${e}"`),t&&(a=`Block at number "${t}"`),super(`${a} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}}}]);